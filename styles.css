:root {
  --bg:#0f172a; --card:#111827; --ink:#e5e7eb; --muted:#9ca3af; --accent:#38bdf8;
  --ok:#34d399; --bad:#f87171; --title:#FC4C02;
  /* Mobile helpers */
  --vh: 1vh;
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-right: env(safe-area-inset-right, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --safe-left: env(safe-area-inset-left, 0px);
}

*{box-sizing:border-box}
html{font-size:16px}
body{
  margin:0; font-family:system-ui, Segoe UI, Roboto, Arial, sans-serif;
  color:var(--ink);
  background:linear-gradient(180deg,#0b1220,var(--bg));
  padding-top:var(--safe-top); padding-right:var(--safe-right);
  padding-bottom:calc(var(--safe-bottom) * 0.5); padding-left:var(--safe-left);
}

/* Header + modes (quiz & leaderboards share this) */
header{padding:16px 20px;border-bottom:1px solid #1f2937;text-align:center}
h1{margin:0 0 8px 0;font-size:22px;color:var(--title)}
.modes{display:flex;gap:8px;flex-wrap:wrap;justify-content:center}
.modes button{
  background:#1f2937;color:var(--ink);border:1px solid #374151;
  padding:6px 10px;border-radius:6px;cursor:pointer
}
.modes button.active{border-color:var(--accent);color:#fff}

/* Link-as-button (for “Back”, etc.) */
.btn-link{
  display:inline-block;background:#1f2937;color:var(--ink);
  border:1px solid #374151;padding:6px 10px;border-radius:6px;
  cursor:pointer;text-decoration:none;line-height:1
}
.btn-link:hover{border-color:var(--accent);color:#fff}
.btn-link:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
.btn-link:visited{color:var(--ink)}
.modes .btn-link{ margin-left:8px; }

/* Page layout */
main{max-width:980px;margin:0 auto;padding:16px}

/* ---------- HUD: NEW centred ribbon with responsive wrap ---------- */
.hud--ribbon{
  background:var(--card); border:1px solid #1f2937;
  padding:10px 12px; border-radius:10px;
}
.ribbon{
  --gap:10px; --gap-lg:16px;
  display:flex; flex-wrap:wrap; align-items:center; justify-content:center;
  gap:var(--gap); row-gap:var(--gap);
}
.ribbon-gap{ width:var(--gap); height:1px; }
.ribbon-gap--large{ width:var(--gap-lg); }
.stopwatch{ font-weight:600; white-space:nowrap; }

/* Info “pills” (presentational buttons) */
.pill{
  display:inline-block; background:#1f2937; color:var(--ink);
  border:1px solid #374151; padding:6px 10px; border-radius:999px;
  text-decoration:none; line-height:1; white-space:nowrap; cursor:default;
}
.pill:hover{ border-color:#374151; } /* no hover change */

/* New Game button styled to align with pills */
#newGame{
  background:#1f2937;color:var(--ink);border:1px solid #374151;
  padding:6px 10px;border-radius:6px;cursor:pointer
}
#newGame:hover{ border-color:var(--accent); color:#fff; }

/* Small phones: break into lines:
   line 1 = stopwatch
   line 2 = pills (may wrap)
   line 3 = New Game */
@media (max-width: 480px){
  .ribbon{ --gap:8px; --gap-lg:12px; }
  .pill, #newGame{ padding:8px 10px; min-height:36px; }
}
@media (max-width: 420px){
  .ribbon-gap--large{ display:none; }
  .stopwatch{ flex:1 1 100%; display:flex; justify-content:center; }
  .pill{ flex:0 1 auto; }
  #newGame{ flex:1 1 100%; display:flex; justify-content:center; align-items:center; }
}

/* Question block */
.question{
  margin-top:16px; background:var(--card); border:1px solid #1f2937;
  padding:16px; border-radius:10px
}
#prompt{font-size:18px;margin-bottom:6px}
.badge{display:inline-block;margin:4px 0 10px;padding:4px 8px;border:1px solid #374151;border-radius:999px;color:#e5e7eb;background:#0b1220;font-size:12px}
.flag{display:flex;justify-content:center;margin-bottom:10px}
.flag img{height:clamp(160px, 40vh, 360px); width:auto; max-width:95%; object-fit:contain; border:1px solid #374151; border-radius:6px}
.hidden{display:none}

/* Form + controls */
#answerForm{display:flex;gap:8px}
#answerInput{flex:1;padding:12px;border-radius:6px;border:1px solid #374151;background:#0b1220;color:var(--ink);font-size:16px;min-height:44px}
.buttons{display:flex;gap:8px}
@media (max-width:480px){
  .buttons{
    position:sticky; bottom:max(8px, var(--safe-bottom));
    background: linear-gradient(180deg, rgba(15,23,42,0), rgba(15,23,42,0.65) 40%, #0f172a 70%);
    padding:8px 0 4px 0; z-index:20;
  }
  .buttons button{ min-height:44px; padding:10px 12px; }
}

/* Feedback */
.feedback{min-height:24px;margin-top:8px; position:sticky; top:0; z-index:10}
.feedback.ok{color:var(--ok)}
.feedback.bad{color:var(--bad)}

/* Panels & tables */
.panels{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-top:16px}
@media (max-width: 820px){ .panels{ grid-template-columns:1fr; } }
.panel{background:var(--card);border:1px solid #1f2937;padding:12px;border-radius:10px}
.panel h2{text-align:center}
.reveal-table,.board-table{width:100%;border-collapse:collapse;font-size:14px}
.reveal-table th,.reveal-table td,.board-table th,.board-table td{border:1px solid #1f2937;padding:6px 8px;vertical-align:top}
.reveal-table th,.board-table th{background:#0b1220;color:var(--muted);text-align:left}
.reveal-table thead th{ position:sticky; top:0; background:#0b1220; z-index:5; }
.reveal-table tbody tr:nth-child(odd){ background:rgba(255,255,255,0.02) }
.reveal-table img{max-height:36px;border:1px solid #374151;border-radius:3px}
.board-table tr.latest{outline:2px solid var(--accent);background:rgba(56,189,248,0.08)}

/* Footer */
footer{text-align:center}
.centerfoot{display:inline-block;margin:0 auto}

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  *{animation:none !important; transition:none !important;}
}
